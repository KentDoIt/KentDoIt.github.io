---
title: JS 邏輯運算子
categories: JavaScript
tags:
  - 運算子
  - ECMAScript
  - JavaScript
description: 此篇透過邏輯運算子切入學習真值（truthy）、假值（falsy）。
abbrlink: 1047366401
date: 2022-06-03 14:35:27
---

## 邏輯運算子 (Logical Operators)

![三種常見邏輯運算子介紹](https://imgur.com/1ynLfOn.jpg)

{% note default %}
最常見用途為 `if 判斷式`並搭配 `比較運算子` 一起使用，透過 `邏輯運算子` 回傳運算結果為 true 或 false。
{% endnote %}

### || 邏輯運算子 OR

{% note primary %}
[Logical OR](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR)：其中一側為 true 就會回傳 true，兩個皆為 false 才會回傳 false。
{% endnote %}

```js
if (3 === 3 || 1 == '2') {
  console.log('true');
}
```

### && 邏輯運算子 AND

{% note primary %}
[Logical AND](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND)：其中一側為 false 就會回傳 false，兩個皆為 true 才會回傳 true。
{% endnote %}

```js
if (3 === 3 && 2 == '2') {
  console.log('true');
}
```

### ! 邏輯運算子 NOT

{% note primary %}
[Logical NOT](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Logical_NOT)：將布林值反向。
{% endnote %}

{% note default %}
將非布林變數自動轉型為布林值的特性，衍伸出另一種用法 `!! 將型別轉型為布林` 達到和 `Boolean(變數)` 相同效果。
{% endnote %}

```js
console.log(!true); // false
console.log(!!'');  // false
console.log(!!'a'); // true
```

![型別轉換過程解析](https://imgur.com/tqCYUbe.jpg)

> 邏輯運算子 tips

1. JS 中邏輯運算子僅支援符號寫法，不支援英文寫法。
![](https://imgur.com/fnGTg2x.jpg)
2. 依照權重高低，有優先順序。（[運算子優先順序 operator precedence](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#table)）
![](https://imgur.com/VF2aXkz.jpg)

---

## [真值（truthy）](https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy)、[假值（falsy）](https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy)

{% note default %}
JS 將轉換為布林型別後為 true 的值稱為 `真值（truthy)`，false 的值稱為 `假值 (falsy)`。
{% endnote %}

> 類型定義

- 假值：
  - false
  - null
  - NaN
  - 0、-0
  - 空字串 ("" 或 '' 或 ``)
  - undefined
- 真值：
  - 除了上述假值類型`以外`的值都是真值。

常見用法：判斷是否有值

{% note default %}
在函數前方做資料判斷是否為空的防呆機制，判斷是否為我們預期的資料型別，不是的話 retuen 回去讓程式不再往下執行。
{% endnote %}

```js
function isAdult(age) { 
  // 判斷是否為假值
  if (!age) {
    return '資料錯誤';
  }
  return age >= 18 ? '已成年' : '未成年';
}

isAdult(null); // 資料錯誤
isAdult(18);   // 已成年
isAdult(17);   // 未成年
```

{% note default %}
運算子並非只能回傳 true、false，在 javascript 中邏輯運算子也能回傳`非布林`的值。（有興趣可以參考這篇[短路求值](https://kentdoit.github.io/javascript/350805089/)介紹，其中有示範操作非布林的值的方法）
{% endnote %}

真值表：依照嚴格程度排序不同的比較子（紅色最嚴格、灰色最寬鬆）
![src: https://thomas-yang.me/projects/oh-my-dear-js/](https://imgur.com/Og8Y5JH.jpg)

## conclusion

1.[運算子優先順序 operator precedence](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#table)

{% note default %}
理解優先順序 `! > && > || > ??` 邏輯運算子用起來沒煩惱。
{% endnote %}

```js
console.log(true || false && false)    // true → (true || false)
console.log((true || false) && false)  // false → (true && false)
```

2.括號內會強制轉型

{% note default %}
if 判斷式會將 `括號` 內變數 `強制轉型` 成布林值。
{% endnote %}

```js
if (1) {
  console.log('true') // true
}

if ('1') {
  console.log('true') // true
}

if ('0') {
  console.log('true') // true
}

if (!0) {
  console.log('true') // true
}
```

## reference

- [重新認識 JavaScript: Day 08 Boolean 的真假判斷](https://ithelp.ithome.com.tw/articles/10191343)